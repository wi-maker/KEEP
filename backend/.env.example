# ===========================================
# KEEP Backend Configuration
# ===========================================
# Copy this file to .env and fill in your values

# ===========================================
# AI PROVIDERS (Priority: OpenRouter -> Gemini)
# ===========================================

# Primary: OpenRouter API Key (required for primary provider)
# Get your key at: https://openrouter.ai/keys
# OpenRouter provides access to 400+ AI models through a unified API
OPENROUTER_API_KEY=your_openrouter_api_key_here

# OpenRouter model (default: google/gemini-2.0-flash-001)
# See all available models at: https://openrouter.ai/models
# Popular options:
#   - google/gemini-2.0-flash-001 (fast, good for medical analysis)
#   - google/gemini-2.5-flash (latest stable)
#   - anthropic/claude-3.5-sonnet (excellent reasoning)
#   - openai/gpt-4o (strong general purpose)
#   - meta-llama/llama-3.1-70b-instruct (open source)
OPENROUTER_MODEL=google/gemini-2.0-flash-001

# Fallback: Google AI API Key (required for fallback + embeddings)
# Get your key at: https://makersuite.google.com/app/apikey
# NOTE: This is REQUIRED for embeddings even if using OpenRouter for generation
GOOGLE_API_KEY=your_google_api_key_here

# Gemini fallback model (default: gemini-2.0-flash-001 - GA production since Feb 2025)
# This is used when OpenRouter is unavailable
GEMINI_MODEL=gemini-2.0-flash-001

# Embedding model (always uses Google API for ChromaDB compatibility)
# Leave as default unless you have a specific reason to change
EMBEDDING_MODEL=models/text-embedding-004

# Provider priority (comma-separated)
# Options: openrouter, gemini
# The system will try providers in this order, falling back if one fails
AI_PROVIDER_PRIORITY=openrouter,gemini

# ===========================================
# DATABASE
# ===========================================

# Database connection URL
# SQLite (development):
DATABASE_URL=sqlite:///./keep.db

# PostgreSQL (production):
# DATABASE_URL=postgresql://user:password@localhost:5432/keep_db

# ===========================================
# FILE STORAGE
# ===========================================

# Directory for uploaded files
UPLOAD_DIR=./uploads

# ChromaDB persistence directory (for vector embeddings)
CHROMA_PERSIST_DIR=./chroma_db

# ===========================================
# SECURITY & AUTHENTICATION (Supabase)
# ===========================================

# Supabase URL (from Settings -> API)
SUPABASE_URL=https://your-project.supabase.co

# Supabase Anon Key (safe for frontend)
SUPABASE_ANON_KEY=your-anon-key

# Supabase Service Role Key (BACKEND ONLY - NEVER SHARE)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Supabase JWT Secret (Settings -> API -> JWT Settings)
SUPABASE_JWT_SECRET=your-jwt-secret

# Secret key for other crypto operations (CHANGE IN PRODUCTION!)
SECRET_KEY=your-secret-key-change-in-production

# ===========================================
# REDIS (Caching & Background Jobs)
# ===========================================

# Railway provides this automatically when you add Redis
REDIS_URL=redis://localhost:6379

# ===========================================
# OPTIONAL SETTINGS
# ===========================================

# RAG Settings (defaults are usually fine)
# CHUNK_SIZE=1000
# CHUNK_OVERLAP=200
# TOP_K_RETRIEVAL=5
